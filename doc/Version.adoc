= Version

[%autowidth, caption=, frame=none, options="header"]
.Available Variables for version scheme
|===
| Placeholder       | Description
| {major}         | Major version number.
| {minor}         | Minor version number.
| {patch}         | Patch version number.
| {branchName}    | Name of the branch.
| {prereleaseTag} | Pre-release tag (e.g., alpha, beta, local).
| {commitShortHash} | Short hash of the commit.
|===

== Minimal example  
[source, yaml]
----
version: "1.0.0"
default:
  versionSchema: "{major}.{minor}.{patch}[-]{branchname}[-]{commitShortHash}"
  precision: "minor"  
  release:
    match:
      - "^release/.*"
    versionSchema: "{major}.{minor}.{patch}"
----
== Full example

[source, yaml]
----
# [Required] Current version in the format major.minor.patch.build (patch and build are optional)
version: "1.0.0" 
# [Required] default config for every branch thats not specifically defined below
default:

  # [Required] Regex schema for the default version. 
  versionSchema: "{major}.{minor}.{patch}-{branchname}-{prereleaseTag}-{commitShortHash}"
  
  # default precision of how to increase a version (if not set defaults to minor)
  precision: "minor" 
  
  # default tag that's made available as a variable
  prereleaseTag: "local"
  
  # [Required] specific branch config for relase branches or tags
  release:
    # [Required] List of regex branch matchers for release builds
    match:
      - "^v.*" # Example for a release tag
      - "^release/.*" # Example fora release branch
    # [Required] version schema for release branches/tags
    versionSchema: "{major}.{minor}[-]{patch}"
    newBranc  hSchema: "release/v{major}.{minor}.{patch}"

# additional branch configs 
branches:
  develop:
    match: 
      - "^develop$"
    versionSchema: "{major}.{minor}.{patch}-{branch}-alpha-{commitShortHash}"
    precision: "patch"
    prereleaseTag: "alpha"
    newBranchSchema: "develop/{major}.{minor}.{patch}"
  
  feature:
    match: 
      - "^feature/.*"
    versionSchema: "{major}.{minor}.{patch}-feature-{branch}-{commitShortHash}"
    precision: "patch"
    prereleaseTag: "beta"
    newBranchSchema: "release/v{major}.{minor}.{patch}"
----